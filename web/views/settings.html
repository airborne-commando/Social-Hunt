<h2>Settings</h2>

<div class="card">
    <h3>Server Configuration</h3>
    <p class="muted">
        Set the Public URL to ensure uploaded images are accessible to external
        search engines.
    </p>
    <div class="row">
        <input id="public_url" placeholder="http://YOUR_IP:8000" />
        <button class="btn good" id="saveSettings" type="button">Save</button>
    </div>
</div>

<div class="card">
    <h3>Appearance</h3>
    <p class="muted">Choose your preferred dashboard theme.</p>
    <div class="row">
        <select id="themeSelect" style="flex: 1">
            <option value="default">Social Hunt Dark (Default)</option>
            <option value="light">Light Mode</option>
            <option value="tokyo">Tokyo Night</option>
            <option value="cobalt">Cobalt Blue</option>
            <option value="cyberpunk">Cyberpunk 2022</option>
            <option value="fsociety">F Society</option>
            <option value="anomaly">An0maly</option>
            <option value="bodega-glow">Bodega Glow</option>
            <option value="your-love-is-fading">Your Love Is Fading</option>
            <option value="deus-ex">Deus Ex</option>
        </select>
    </div>
</div>

<div class="card">
    <h3>System Update</h3>
    <p class="muted">
        Pull the latest updates from GitHub. Your local settings and data are
        protected.
    </p>
    <div class="row">
        <button class="btn" id="updateBtn" type="button">Update System</button>
        <button class="btn danger" id="restartBtn" type="button">
            Restart Server
        </button>
    </div>
    <pre
        id="updateLog"
        style="
            margin-top: 10px;
            display: none;
            background: #111;
            color: #0f0;
            padding: 10px;
            border-radius: 4px;
            max-height: 200px;
            overflow: auto;
        "
    ></pre>
</div>

<div class="card">
    <h3>Demo Mode</h3>
    <p class="muted">
        Censors results and limits output for demos. Changes apply immediately.
    </p>
    <div class="row" style="align-items: center; gap: 12px">
        <label
            class="muted"
            style="display: flex; align-items: center; gap: 8px"
        >
            <input id="demoModeToggle" type="checkbox" />
            Enable Demo Mode
        </label>
    </div>
</div>

<div class="card">
    <h3>BreachVIP Proxy Configuration</h3>
    <p class="muted">
        Configure proxy settings for BreachVIP searches to bypass Cloudflare
        blocks.
    </p>

    <div
        class="row"
        style="align-items: center; gap: 12px; margin-bottom: 10px"
    >
        <label
            class="muted"
            style="display: flex; align-items: center; gap: 8px"
        >
            <input id="breachvipProxyEnabled" type="checkbox" />
            Enable Proxy for BreachVIP
        </label>
    </div>

    <div id="breachvipProxySettings" style="display: none">
        <div class="row" style="margin-bottom: 10px">
            <input
                id="breachvipProxyUrl"
                placeholder="http://proxy-server:8080"
                style="flex: 1"
            />
            <label class="muted" style="min-width: 80px; margin-left: 10px"
                >Proxy URL</label
            >
        </div>

        <div class="row" style="margin-bottom: 10px">
            <input
                id="breachvipProxyAuth"
                type="password"
                placeholder="username:password (optional)"
                style="flex: 1"
            />
            <label class="muted" style="min-width: 80px; margin-left: 10px"
                >Auth (optional)</label
            >
        </div>

        <div class="row" style="margin-bottom: 10px">
            <select id="breachvipProxyStrategy" style="flex: 1">
                <option value="regular_first">
                    Try Direct VPS First, Proxy as Failover
                </option>
                <option value="proxy_first">
                    Try Proxy First, Direct VPS as Failover
                </option>
                <option value="proxy_only">
                    Use Proxy Only (No Direct VPS)
                </option>
            </select>
            <label class="muted" style="min-width: 80px; margin-left: 10px"
                >Strategy</label
            >
        </div>

        <div class="row" style="align-items: center; gap: 12px">
            <label
                class="muted"
                style="display: flex; align-items: center; gap: 8px"
            >
                <input id="breachvipResidentialIp" type="checkbox" />
                Use Residential IP when available
            </label>
        </div>
    </div>

    <div class="row" style="margin-top: 15px">
        <button id="breachvipProxySave" class="btn good" type="button">
            Save Proxy Settings
        </button>
        <button id="breachvipProxyTest" class="btn" type="button">
            Test Connection
        </button>
    </div>
</div>

<p class="muted">
    Add integrations as key/value pairs. Secrets are stored server-side and
    never shown back.
</p>

<div class="row" style="margin: 10px 0">
    <button id="settingsAdd" class="btn" type="button">Add API</button>
    <button id="settingsSave" class="btn good" type="button">Save</button>
    <button id="settingsReload" class="btn" type="button">Reload</button>
</div>

<div class="card">
    <table id="settingsTable">
        <thead>
            <tr>
                <th style="width: 35%">Key</th>
                <th>Value</th>
                <th style="width: 120px">Secret</th>
                <th style="width: 90px"></th>
            </tr>
        </thead>
        <tbody></tbody>
    </table>
</div>

<pre id="settingsMsg" style="margin-top: 12px; display: none"></pre>
